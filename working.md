# 项目开发记录

## 基本原则
- 请在工作开始前确保正确加载应用全部规则
- 本记录仅存放本次任务的重要信息 

## 其他完整文档
- 开发文档.md

## 需求分析
了解在TrenchBroom项目中新建地图的流程。(已完成)
确认新的地图文档的信息是否有模板。(已完成)
了解初始地图文件的概念。(已完成)
了解如何配置初始地图文件。(已完成)

## 工作计划
1. 检查并创建/读取 `working.md` 文件，记录当前任务。(已完成)
2. 确认项目根目录为 `D:\Code_Development\Source_code\CPP\TrenchBroom`。(已完成)
3. 浏览项目目录结构，寻找可能的源代码、UI 或文档目录。(已完成)
4. 使用关键词搜索相关文件或代码片段。(已完成)
5. 阅读找到的关键文件，分析新建地图的流程。(已完成)
6. 结合图片信息和代码分析，总结并描述新建地图的流程。(已完成)
7. 分析新建地图文档的模板机制。(已完成)
8. 阅读源代码，查找生成初始地图结构的具体逻辑。(已完成)
9. 更新 `working.md` 的进度和下一步任务。

## 规范事项

## 下一步任务
✅ 了解在TrenchBroom项目中新建地图的流程。

## 进度跟踪
- 检查并创建/读取 `working.md` 文件。(已完成)
- 确认项目根目录。(已完成)
- 浏览项目目录结构，寻找与UI、编辑器或游戏相关的目录。(已完成)
- 使用关键词搜索相关文件或代码片段。(已完成)
- 阅读找到的关键文件和用户手册，分析新建地图的流程。(已完成)
- 总结新建地图的流程。(已完成)
- 分析新建地图文档的模板机制。(已完成)
- 阅读源代码，查找生成初始地图结构的具体逻辑。(已完成)
- 查找并分析初始地图文件的配置和加载机制。(已完成)
- 了解初始地图文件的概念。(已完成)
- 了解如何配置初始地图文件。(已完成)

## 重要信息
初始地图文件的配置在每个游戏的 `GameConfig.cfg` 文件中的 `fileformats` 部分，通过 `"initialmap"` 键指定。如果未指定或文件不存在，会创建一个带有默认 `worldspawn` 和默认 Brush 的空地图。

## 错误处理方案

### 网站结构方案
